> 本文主要分析了redis cluster的核心原理，gossip通信，jedis smart定位，主备切换。
# 节点间的通信机制
## 基础通信原理
1.redis cluster节点间采用gossip协议进行通信
  根集中式不同，不是将集群元数据（节点信息，故障等等）集中存储在某个节点上，而是互相之间不断通信，保持
  整个集群所有节点的数据是完整的
2.10000端口号
  每个节点都有一个专门用于节点间通信的端口，就是自己提供服务的端口号+10000，比如1端口号，节点间通信的
  端口号就是10001。

3.交换的信息
  节点间交换了故障信息，节点的增加和移除，hash slot信息，等等

## gossip协议
  gossip协议包含多种消息，包括ping，pong，meet，fail等等。
  meet: 某个节点发送meet给新加入的节点，让新节点加入集群中，然后新节点就会开始与其他节点进行通信
  ping: 每个节点都会频繁给其他节点发送ping，其中包含自己的状态还有自己维护的集群元数据，互相通过ping
  交换元数据

## ping消息探入
   ping很频繁，而且要携带一些元数据，所以可能会加重网络负担

##