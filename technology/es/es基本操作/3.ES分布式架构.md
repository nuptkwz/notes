# 前言
> 本文主要介绍了ES分布式架构相关的一些概念。

# es分布式架构的特点
## 对复杂分布式机制的透明隐藏特性
es是一套分布式的系统，分布式是为了应对大数据量隐藏了复杂的分布式机制，用户只需要调用api往es里面做crud操作即可实现功能。es隐藏的一些
特性包括：
- 分片机制
将一些document插入到es集群中去了，用户不需要感知数据到哪个shard中去了

- cluster discovery（集群发现机制）
我们之前在做那个集群status从yellow转green的实验里，直接启动了第二个es进程，那个进程作为一个node自动就发现了集群，并且加入了进去，
还接受了部分数据，replica shard）

- shard负载均衡
假设现在有3个节点，总共有25个shard要分配到3个节点上去，es会自动进行均匀分配，以保持每个节点的均衡的读写负载请求

- shard副本
请求路由，集群扩容，shard重分配

## es垂直扩容与水平扩容
- 垂直扩容
采购更强大的服务器，成本非常高昂

- 水平扩容
业界经常采用的方案，采购越来越多的普通服务器，性能比较一般，但是很多普通服务器组织在一起，就能构成强大的计算和存储能力

## 增减或减少节点时的数据rebalance
在新增或者删除节点时，es会自动保持负载均衡

## master节点功能
1. 创建或删除索引
管理es集群的元数据，比如索引的创建和删除

2. 增加或删除节点
维护索引的元数据，节点增加和移除

## 节点平等的分布式架构
1. 节点对等，每个节点都能接收所有的请求
2. 自动请求路由
3. 响应收集

